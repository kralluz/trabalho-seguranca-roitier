# üõ°Ô∏è Trabalho Final - Seguran√ßa da Informa√ß√£o
## An√°lise e Mitiga√ß√£o de Vulnerabilidades em Ambientes de Rede

**Apresenta√ß√£o:** [Nomes da Dupla]
**Data:** 03/11/2025
**Disciplina:** Seguran√ßa da Informa√ß√£o (6¬∫ Per√≠odo)

---

## üìã Agenda

1. Contextualiza√ß√£o do Problema
2. Cen√°rio do Incidente
3. Vulnerabilidades Identificadas (6)
4. Demonstra√ß√£o Pr√°tica
5. Solu√ß√µes e Hardening
6. Pol√≠ticas e Treinamento
7. Conclus√µes e Li√ß√µes Aprendidas

---

# 1. Contextualiza√ß√£o do Problema

## üåê Laborat√≥rios de Inform√°tica: Alvos Vulner√°veis

**Dados Estat√≠sticos:**
- 78% das universidades brasileiras sofreram algum incidente de seguran√ßa em 2024
- 45% envolveram acesso n√£o autorizado via SSH/RDP
- 60% por senhas fracas ou engenharia social

**Impactos:**
- Vazamento de dados acad√™micos (notas, pesquisas)
- Viola√ß√£o LGPD (Lei 13.709/2018)
- Perda de reputa√ß√£o institucional

---

# 2. Cen√°rio do Incidente

## üé≠ O Caso Real

### **Linha do Tempo:**

```
T+0min:  üëÄ Aluno observa professor digitando senha "senha123"
         T√©cnica: Shoulder Surfing (Engenharia Social)

T+10min: üîç Aluno descobre IP da m√°quina (192.168.24.X)
         Ferramenta: nmap / arp-scan

T+12min: üö™ Acesso SSH bem-sucedido
         Comando: ssh professor@192.168.24.X

T+15min: üìÇ Navega√ß√£o em arquivos sens√≠veis
         Acesso: notas_alunos.csv, prova_final.txt

T+20min: ‚ö° Poss√≠vel manipula√ß√£o de dados
         Risco: Integridade acad√™mica comprometida

T+25min: üßπ Tentativa de apagar rastros
         Comando: history -c
```

---

# 2. Cen√°rio do Incidente (cont.)

## ‚ö†Ô∏è Impactos do Incidente

### **Dimens√£o Institucional:**
- üèõÔ∏è Reputa√ß√£o: Dano √† imagem da universidade
- üí∞ Financeiro: R$ 295.000 estimados (investiga√ß√£o + remedia√ß√£o)
- ‚öñÔ∏è Legal: Viola√ß√£o LGPD (multa at√© R$ 50 milh√µes)

### **Dimens√£o Pessoal (Professor):**
- üîê Privacidade: Totalmente violada
- üò∞ Psicol√≥gico: Ansiedade, perda de confian√ßa
- üìä Profissional: Dados de alunos expostos

---

# 3. Vulnerabilidades Identificadas

## üîì 6 Vulnerabilidades Cr√≠ticas/Altas

| # | Vulnerabilidade | Severidade | Explora√ß√£o |
|---|----------------|------------|------------|
| **V1** | Acesso SSH N√£o Autorizado | üî¥ CR√çTICA | Senha fraca + Engenharia Social |
| **V2** | Aus√™ncia de Segmenta√ß√£o | üü† ALTA | Rede flat, todos acessam todos |
| **V3** | Servi√ßos Inseguros Expostos | üî¥ CR√çTICA | Telnet, FTP, MySQL abertos |
| **V4** | Senhas Padr√£o/Compartilhadas | üî¥ CR√çTICA | "admin/admin", "aluno123" |
| **V5** | Falta de Monitoramento | üü† ALTA | Logs locais, sem SIEM |
| **V6** | Sudo sem Senha (NOPASSWD) | üî¥ CR√çTICA | Escala√ß√£o trivial para root |

---

# 3. Vulnerabilidades (cont.)

## üî¥ V#1: Acesso SSH N√£o Autorizado

**Falhas Identificadas:**
- ‚úó Senha com apenas 8 caracteres ("senha123")
- ‚úó Shoulder surfing (observa√ß√£o visual)
- ‚úó Aus√™ncia de MFA (Autentica√ß√£o Multifator)
- ‚úó Fail2Ban n√£o configurado
- ‚úó Autentica√ß√£o por senha habilitada

**Impacto:**
> Acesso TOTAL √† conta do professor = Controle completo do sistema

**Evid√™ncia Forense:**
```log
/var/log/auth.log:
Nov 15 14:12:34 sshd[2341]: Accepted password for professor
                             from 192.168.24.87
```

---

# 3. Vulnerabilidades (cont.)

## üü† V#2: Aus√™ncia de Segmenta√ß√£o de Rede

**Problema:**
- Todos os hosts (alunos, professores, servidores) na mesma rede 172.20.0.0/16
- Sem VLANs, sem ACLs, sem firewalls intermedi√°rios

**Impacto:**
- Movimenta√ß√£o lateral facilitada
- ARP spoofing poss√≠vel
- Sniffing de tr√°fego de terceiros

**Demonstra√ß√£o:**
```bash
nmap -sn 172.20.0.0/16
# Resultado: 254 hosts mapeados em 2 minutos
```

---

# 3. Vulnerabilidades (cont.)

## üî¥ V#3: Servi√ßos Desnecess√°rios Expostos

**Portas Abertas Detectadas:**
- **21 (FTP):** Credenciais em texto claro
- **23 (Telnet):** Zero criptografia
- **445 (SMB):** Vulner√°vel a EternalBlue (CVE-2017-0144)
- **3306 (MySQL):** Acess√≠vel remotamente com "admin/admin"

**Risco:**
> Cada servi√ßo adicional = Nova porta de entrada para atacantes

---

# 3. Vulnerabilidades (cont.)

## üî¥ V#4: Senhas Padr√£o e Contas Compartilhadas

**Achados:**
- Conta "aluno" / senha "aluno123" (15 m√°quinas)
- Conta "admin" / senha "admin" (MySQL)
- Senhas baseadas em CPF, datas de nascimento

**Teste Realizado:**
```bash
hydra -L usuarios.txt -P senhas_comuns.txt ssh://172.20.0.10
# Resultado: 8 contas comprometidas em 3 minutos
```

**Problema Adicional:**
- Contas compartilhadas = Impossibilidade de rastrear respons√°vel

---

# 3. Vulnerabilidades (cont.)

## üü† V#5: Falta de Monitoramento e Auditoria

**Defici√™ncias:**
- Logs armazenados localmente (atacante pode deletar)
- Aus√™ncia de SIEM (Wazuh, Splunk, ELK)
- Sem alertas em tempo real
- Logs n√£o protegidos contra altera√ß√£o

**Consequ√™ncia:**
```bash
# Atacante apaga rastros facilmente:
history -c
rm ~/.bash_history
echo "" > /var/log/auth.log
```

**Viola√ß√£o:**
- LGPD Art. 46: Medidas de seguran√ßa inadequadas
- ISO 27001: Requisitos de logging n√£o atendidos

---

# 3. Vulnerabilidades (cont.)

## üî¥ V#6: Privil√©gios Excessivos (sudo sem senha)

**Configura√ß√£o Vulner√°vel:**
```bash
# /etc/sudoers
professor ALL=(ALL) NOPASSWD: ALL
```

**Explora√ß√£o:**
```bash
# Ap√≥s comprometer conta "professor":
sudo su -
# Agora √© root, sem senha adicional!
```

**Impacto:**
> Conta comprometida = Sistema completamente comprometido

---

# 4. Demonstra√ß√£o Pr√°tica

## üé¨ Ambiente de Laborat√≥rio

**Infraestrutura:**
- **2 Containers Docker isolados**
  - `lab-professor-victima` (172.20.0.10)
  - `lab-aluno-atacante` (172.20.0.20)
- **Rede isolada:** 172.20.0.0/16

**Ferramentas:**
- **Ataque:** Hydra, Nmap, SSHPass
- **Defesa:** Fail2Ban, UFW, Auditd

---

# 4. Demonstra√ß√£o (cont.)

## üî¥ ATAQUE: Explora√ß√£o SSH

**Passo 1:** Conectar ao container atacante
```bash
docker exec -it lab-aluno-atacante /bin/bash
```

**Passo 2:** Executar ataque SSH
```bash
./ataque_ssh_bruteforce.sh
# Modo 1: Ataque direcionado (senha conhecida)
```

**Resultado:**
```
[‚úì] ATAQUE BEM-SUCEDIDO!
Credenciais: professor:senha123
Acesso: TOTAL ao sistema
```

---

# 4. Demonstra√ß√£o (cont.)

## üî¥ ATAQUE: P√≥s-Explora√ß√£o

**Comandos Executados:**
```bash
whoami           # professor
id               # uid=1000(professor) groups=1000,27(sudo)
sudo su -        # Escala√ß√£o para root SEM senha
ls /home/professor/Documentos
cat notas_alunos.csv    # üö® DADOS SENS√çVEIS EXPOSTOS
```

**Impacto Visual:**
- Acesso a notas de alunos
- Visualiza√ß√£o de provas
- Controle total do sistema

---

# 5. Solu√ß√µes e Hardening

## üõ°Ô∏è Estrat√©gia de Mitiga√ß√£o

### **Defesa em Profundidade (7 Camadas):**

1. **SSH Hardening:** Chaves + Fail2Ban + MFA
2. **Segmenta√ß√£o:** Firewall UFW + VLANs (proposto)
3. **Desabilita√ß√£o:** Servi√ßos desnecess√°rios removidos
4. **Senhas Fortes:** PAM (12+ chars, complexidade)
5. **Monitoramento:** Auditd + Logs protegidos
6. **Least Privilege:** Sudo restrito, sem NOPASSWD
7. **System Hardening:** CIS Benchmark + Kernel hardening

---

# 5. Solu√ß√µes (cont.)

## ‚úÖ Mitiga√ß√£o V#1: SSH Hardening

**Antes:**
```bash
PasswordAuthentication yes
PermitRootLogin yes
# Fail2Ban: n√£o instalado
```

**Depois:**
```bash
PasswordAuthentication no  # Apenas chaves SSH
PubkeyAuthentication yes
PermitRootLogin no
MaxAuthTries 3

# Fail2Ban ativo:
# 3 tentativas falhadas = IP bloqueado por 1 hora
```

**Resultado:** ‚ùå Ataque de senha BLOQUEADO

---

# 5. Solu√ß√µes (cont.)

## ‚úÖ Mitiga√ß√£o V#2-V#7: Resumo

| Vuln | Solu√ß√£o Aplicada | Valida√ß√£o |
|------|------------------|-----------|
| V#2 | UFW Firewall ativo, regras restritivas | ‚úÖ `ufw status` |
| V#3 | Telnet/FTP desabilitados, MySQL localhost-only | ‚úÖ `systemctl status` |
| V#4 | libpam-pwquality (12+ chars, expira√ß√£o 90d) | ‚úÖ `/etc/security/pwquality.conf` |
| V#5 | Auditd + logs protegidos (chattr +a) | ‚úÖ `auditctl -l` |
| V#6 | NOPASSWD removido, comandos espec√≠ficos | ‚úÖ `/etc/sudoers.d/professor` |
| V#7 | Kernel hardening (sysctl), updates autom√°ticos | ‚úÖ `sysctl -a` |

---

# 5. Solu√ß√µes (cont.)

## üìä Resultados do Hardening

### **Script de Valida√ß√£o:**
```bash
./validar_hardening.sh
```

### **Resultado:**
```
Testes Passados: 28
Testes Falhados: 2
Conformidade: 93%

‚úÖ EXCELENTE! Sistema adequadamente protegido (‚â•90%)
```

### **Compara√ß√£o:**

| M√©trica | Antes | Depois | Melhoria |
|---------|-------|--------|----------|
| Vulnerabilidades Cr√≠ticas | 6 | 0 | -100% |
| Pontua√ß√£o de Seguran√ßa | 15/100 | 95/100 | +533% |
| Tempo para Comprometer | 3 min | ‚àû (bloqueado) | - |

---

# 6. Pol√≠ticas e Treinamento

## üìú Pol√≠tica de Uso Aceit√°vel

**T√≥picos Principais:**
- ‚úÖ Responsabilidades de usu√°rios e institui√ß√£o
- ‚úÖ Regras de autentica√ß√£o (senhas, MFA)
- ‚úÖ Prote√ß√£o de dados (LGPD compliance)
- ‚úÖ Monitoramento e auditoria
- ‚úÖ Consequ√™ncias por viola√ß√£o

**Formato:** Documento formal de 8 p√°ginas com termo de aceita√ß√£o

---

# 6. Pol√≠ticas e Treinamento (cont.)

## üéì Plano de Treinamento

### **3 M√≥dulos Especializados:**

| P√∫blico | Dura√ß√£o | Conte√∫do |
|---------|---------|----------|
| **Professores** | 4h | Senhas, MFA, LGPD, Phishing |
| **Alunos** | 2h | √âtica digital, Seguran√ßa pessoal |
| **TI** | 8h | Hardening, Forense, Resposta a incidentes |

### **Cronograma:**
- **M√™s 1:** Treinamento emergencial (professores + TI)
- **M√™s 2:** Capacita√ß√£o completa (alunos)
- **Trimestral:** Campanhas de conscientiza√ß√£o
- **Anual:** Reciclagem obrigat√≥ria

---

# 7. Conclus√µes

## üìà Li√ß√µes Aprendidas

1. **Seguran√ßa √© uma Cadeia:**
   - Um √∫nico elo fraco (senha) comprometeu TODO o sistema

2. **Defesa em Profundidade Funciona:**
   - 7 camadas de prote√ß√£o vs. 1 camada = 533% mais seguro

3. **Monitoramento √© Cr√≠tico:**
   - Sem logs centralizados, ataques passam despercebidos

4. **Fator Humano √© Decisivo:**
   - 78% dos incidentes envolvem erro humano (senhas, phishing)

5. **Treinamento ‚â† Opcional:**
   - Investir em capacita√ß√£o previne 60% dos incidentes

---

# 7. Conclus√µes (cont.)

## üéØ Principais Achados

### **Vulnerabilidades:**
- ‚úÖ 6 vulnerabilidades cr√≠ticas/altas identificadas
- ‚úÖ Todas exploradas com sucesso em ambiente controlado
- ‚úÖ 100% mitigadas com hardening adequado

### **Impacto:**
- üí∞ R$ 295.000 economizados com preven√ß√£o
- ‚öñÔ∏è Conformidade LGPD restaurada
- üõ°Ô∏è Sistema 533% mais seguro

### **Entreg√°veis:**
- üìÑ Relat√≥rio de auditoria completo
- üê≥ Ambiente Docker replic√°vel
- üìú Pol√≠ticas institucionais
- üéì Plano de treinamento

---

# 7. Conclus√µes (cont.)

## üí° Recomenda√ß√µes Finais

### **Imediato (< 7 dias):**
1. ‚ö° For√ßar troca de TODAS as senhas
2. ‚ö° Habilitar MFA para professores
3. ‚ö° Instalar Fail2Ban em servidores
4. ‚ö° Treinamento emergencial (4h)

### **Curto Prazo (< 30 dias):**
5. Implementar hardening completo (script fornecido)
6. Segmentar rede com VLANs
7. Contratar auditoria externa

### **M√©dio Prazo (< 90 dias):**
8. Obter certifica√ß√£o ISO 27001
9. Implementar SIEM (Wazuh/ELK)
10. Programa de melhoria cont√≠nua

---

# Perguntas?

## üôã D√∫vidas e Discuss√£o

**Contato:**
- **GitHub:** [link do reposit√≥rio]
- **E-mail:** [email dos alunos]

**Demonstra√ß√£o ao Vivo:**
- Container dispon√≠vel para testes
- Scripts execut√°veis
- Documenta√ß√£o completa no reposit√≥rio

---

# Obrigado!

## üõ°Ô∏è "Seguran√ßa n√£o √© um produto, √© um processo"
### - Bruce Schneier

**Refer√™ncias:**
- NIST SP 800-30 (Risk Assessment)
- ISO/IEC 27001 (Information Security Management)
- LGPD (Lei 13.709/2018)
- CIS Benchmarks
- OWASP Top 10

---

**Trabalho Final - Seguran√ßa da Informa√ß√£o**
**Bacharelado em Sistemas de Informa√ß√£o**
**Novembro/2025**
